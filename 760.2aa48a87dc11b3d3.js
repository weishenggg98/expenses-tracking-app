"use strict";(self.webpackChunkexpenses_tracking_app=self.webpackChunkexpenses_tracking_app||[]).push([[760],{3760:(B,y,l)=>{l.r(y),l.d(y,{ExpenseModule:()=>Z});var h=l(4666),x=l(7340),_=l(2508),T=l(4929),r=l(2560),m=function(){function n(t,e,s){this.el=t,this.vcr=e,this.renderer=s,this.dtOptions={}}return n.prototype.ngOnInit=function(){var t=this;this.dtTrigger?this.dtTrigger.subscribe(function(e){t.displayTable(e)}):this.displayTable(null)},n.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},n.prototype.displayTable=function(t){var e=this;t&&(this.dtOptions=t),this.dtInstance=new Promise(function(s,a){Promise.resolve(e.dtOptions).then(function(o){0===Object.keys(o).length&&0===$("tbody tr",e.el.nativeElement).length?a("Both the table and dtOptions cannot be empty"):setTimeout(function(){var p={rowCallback:function(c,u,g){if(o.columns){var f=o.columns;e.applyNgPipeTransform(c,f),e.applyNgRefTemplate(c,f,u)}o.rowCallback&&o.rowCallback(c,u,g)}};p=Object.assign({},o,p),e.dt=$(e.el.nativeElement).DataTable(p),s(e.dt)})})})},n.prototype.applyNgPipeTransform=function(t,e){e.filter(function(a){return a.ngPipeInstance&&!a.ngTemplateRef}).forEach(function(a){var o=a.ngPipeInstance,i=a.ngPipeArgs||[],p=e.findIndex(function(f){return f.data===a.data}),c=t.childNodes.item(p),u=$(c).text(),g=o.transform.apply(o,function(n,t,e){if(e||2===arguments.length)for(var o,s=0,a=t.length;s<a;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return n.concat(o||Array.prototype.slice.call(t))}([u],i,!1));$(c).text(g)})},n.prototype.applyNgRefTemplate=function(t,e,s){var a=this;e.filter(function(i){return i.ngTemplateRef&&!i.ngPipeInstance}).forEach(function(i){var p=i.ngTemplateRef,c=p.ref,u=p.context,g=e.findIndex(function(J){return J.data===i.data}),f=t.childNodes.item(g);$(f).html("");var R=Object.assign({},u,u?.userData,{adtData:s}),j=a.vcr.createEmbeddedView(c,R);a.renderer.appendChild(f,j.rootNodes[0])})},n.\u0275fac=function(e){return new(e||n)(r.Y36(r.SBq),r.Y36(r.s_b),r.Y36(r.Qsj))},n.\u0275dir=r.lG2({type:n,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),n}(),v=function(){function n(){}return n.forRoot=function(){return{ngModule:n}},n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[h.ez]}),n}(),d=(()=>{return(n=d||(d={}))[n.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",n[n.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",n[n.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",d;var n})();const O=new class C{constructor(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}addTypeMetadata(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)}addTransformMetadata(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)}addExposeMetadata(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)}addExcludeMetadata(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)}findTransformMetadatas(t,e,s){return this.findMetadatas(this._transformMetadatas,t,e).filter(a=>!a.options||!0===a.options.toClassOnly&&!0===a.options.toPlainOnly||(!0===a.options.toClassOnly?s===d.CLASS_TO_CLASS||s===d.PLAIN_TO_CLASS:!0!==a.options.toPlainOnly||s===d.CLASS_TO_PLAIN))}findExcludeMetadata(t,e){return this.findMetadata(this._excludeMetadatas,t,e)}findExposeMetadata(t,e){return this.findMetadata(this._exposeMetadatas,t,e)}findExposeMetadataByCustomName(t,e){return this.getExposedMetadatas(t).find(s=>s.options&&s.options.name===e)}findTypeMetadata(t,e){return this.findMetadata(this._typeMetadatas,t,e)}getStrategy(t){const e=this._excludeMetadatas.get(t),s=e&&e.get(void 0),a=this._exposeMetadatas.get(t),o=a&&a.get(void 0);return s&&o||!s&&!o?"none":s?"excludeAll":"exposeAll"}getExposedMetadatas(t){return this.getMetadata(this._exposeMetadatas,t)}getExcludedMetadatas(t){return this.getMetadata(this._excludeMetadatas,t)}getExposedProperties(t,e){return this.getExposedMetadatas(t).filter(s=>!s.options||!0===s.options.toClassOnly&&!0===s.options.toPlainOnly||(!0===s.options.toClassOnly?e===d.CLASS_TO_CLASS||e===d.PLAIN_TO_CLASS:!0!==s.options.toPlainOnly||e===d.CLASS_TO_PLAIN)).map(s=>s.propertyName)}getExcludedProperties(t,e){return this.getExcludedMetadatas(t).filter(s=>!s.options||!0===s.options.toClassOnly&&!0===s.options.toPlainOnly||(!0===s.options.toClassOnly?e===d.CLASS_TO_CLASS||e===d.PLAIN_TO_CLASS:!0!==s.options.toPlainOnly||e===d.CLASS_TO_PLAIN)).map(s=>s.propertyName)}clear(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()}getMetadata(t,e){const s=t.get(e);let a;s&&(a=Array.from(s.values()).filter(i=>void 0!==i.propertyName));const o=[];for(const i of this.getAncestors(e)){const p=t.get(i);if(p){const c=Array.from(p.values()).filter(u=>void 0!==u.propertyName);o.push(...c)}}return o.concat(a||[])}findMetadata(t,e,s){const a=t.get(e);if(a){const o=a.get(s);if(o)return o}for(const o of this.getAncestors(e)){const i=t.get(o);if(i){const p=i.get(s);if(p)return p}}}findMetadatas(t,e,s){const a=t.get(e);let o;a&&(o=a.get(s));const i=[];for(const p of this.getAncestors(e)){const c=t.get(p);c&&c.has(s)&&i.push(...c.get(s))}return i.slice().reverse().concat((o||[]).slice().reverse())}getAncestors(t){if(!t)return[];if(!this._ancestorsMap.has(t)){const e=[];for(let s=Object.getPrototypeOf(t.prototype.constructor);typeof s.prototype<"u";s=Object.getPrototypeOf(s.prototype.constructor))e.push(s);this._ancestorsMap.set(t,e)}return this._ancestorsMap.get(t)}};var E=l(253),b=l(4522);function N(n,t){if(1&n&&(r.TgZ(0,"tr")(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.ALo(7,"number"),r.qZA()()),2&n){const e=t.$implicit;r.xp6(2),r.Oqu(e.name),r.xp6(2),r.Oqu(e.category),r.xp6(2),r.hij("RM ",r.xi3(7,3,e.amount,"1.2-2"),"")}}let A=(()=>{class n{constructor(){this.expensesList=new Array,this.dtOptions={},this.dtTrigger=new E.x}ngOnInit(){this.dtOptions={lengthChange:!1,ordering:!0,searching:!1,responsive:!0,paging:!1},this.getExpensesList()}getExpensesList(){const e=localStorage.getItem("userData");if(e){const a=JSON.parse(e);this.expensesList=a.expenseList,setTimeout(()=>{this.dtTrigger.next(0)})}}addRecord(){this.expensesList.push({name:"ABC",category:"Shopping",remark:"ABC",amount:Math.random(),createdDateTime:1663757593941,amountType:1}),this.dtElement.dtInstance.then(e=>{e.destroy(),this.dtTrigger.next(0)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-expense-list"]],viewQuery:function(e,s){if(1&e&&r.Gf(m,5),2&e){let a;r.iGM(a=r.CRH())&&(s.dtElement=a.first)}},decls:14,vars:3,consts:[["mat-raised-button","","color","primary",3,"click"],[1,"table-responsive"],["datatable","",1,"table","table-hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"]],template:function(e,s){1&e&&(r.TgZ(0,"button",0),r.NdJ("click",function(){return s.addRecord()}),r._uU(1,"Add Record"),r.qZA(),r.TgZ(2,"div",1)(3,"table",2)(4,"thead")(5,"tr")(6,"th"),r._uU(7,"Name"),r.qZA(),r.TgZ(8,"th"),r._uU(9,"Category"),r.qZA(),r.TgZ(10,"th"),r._uU(11,"Amount"),r.qZA()()(),r.TgZ(12,"tbody"),r.YNc(13,N,8,6,"tr",3),r.qZA()()()),2&e&&(r.xp6(3),r.Q6J("dtOptions",s.dtOptions)("dtTrigger",s.dtTrigger),r.xp6(10),r.Q6J("ngForOf",s.expensesList))},dependencies:[h.sg,m,b.lW,h.JJ]}),n})();(0,T.gn)([function L(n,t={}){return function(e,s){const a=Reflect.getMetadata("design:type",e,s);O.addTypeMetadata({target:e.constructor,propertyName:s,reflectedType:a,typeFunction:n,options:t})}}(()=>Number)],class P{constructor(){this.name="",this.category="",this.remark="",this.amount=0,this.createdDateTime=0,this.amountType=M.Credit}}.prototype,"amountType",void 0);var M=(()=>{return(n=M||(M={}))[n.Credit=0]="Credit",n[n.Debit=1]="Debit",M;var n})();const D=[{path:"",component:A},{path:"list",component:A},{path:"detail",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-expense-detail"]],decls:2,vars:0,template:function(e,s){1&e&&(r.TgZ(0,"p"),r._uU(1,"expense-detail works!"),r.qZA())}}),n})()},{path:"",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:""}];let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[x.Bz.forChild(D),x.Bz,_.u5]}),n})();var w=l(3638);let F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[w.q]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[h.ez,I,v,F]}),n})()}}]);
//# sourceMappingURL=760.2aa48a87dc11b3d3.js.map